{% extends "base.html" %}
{% block content %}
<div class="glass-card">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h2>我的申請紀錄</h2>
        <a href="/index" class="btn btn-cancel" style="width: auto; padding: 8px 20px; margin-top: 0;">返回</a>
    </div>
    <div style="overflow-x: auto;">
        <table>
            <thead><tr><th>申請時間</th><th>假別</th><th>起訖時間</th><th>事由</th><th>狀態</th></tr></thead>
            <tbody>
                {% for leave in leaves %}
                <tr>
                    <td>{{ leave[8] }}</td><td><span style="color: var(--primary); font-weight:bold;">{{ leave[3] }}</span></td>
                    <td><div style="font-size: 0.85rem;">{{ leave[4].replace('T', ' ') }}</div><div style="font-size: 0.85rem; color: #888;">至 {{ leave[5].replace('T', ' ') }}</div></td>
                    <td>{{ leave[6] }}</td>
                    <td>
                        {% if leave[7] == '待審核' %}<span class="tag tag-wait">待審核</span>
                        {% elif leave[7] == '已核准' %}<span class="tag tag-ok">已核准</span>
                        {% else %}<span class="tag tag-no">已駁回</span>{% endif %}
                    </td>
                </tr>
                {% else %}<tr><td colspan="5" style="text-align: center; padding: 30px; color: #999;">目前沒有任何紀錄</td></tr>{% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
